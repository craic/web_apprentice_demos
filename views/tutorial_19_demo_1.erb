<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="initial-scale=1">

  <link href="/application.css" media="all" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
  <title>Web Apprentice - Live Demos</title>
</head>
<body>

<div class='header'>
  <table><tr>
    <td class='td-edge'>
      <a href="http://apprentice.craic.com" class="web-apprentice-logo">Web Apprentice Demos</a>
      <br/>
      <span class="tutorial-id">Tutorial 19 Demo 1</span>
    </td>

    <td class='td-center tutorial-title'>
      Example of Geolocation in HTML5
    </td>
    <td class='td-edge'></td>
  </tr></table>
</div>

<div class='tutorial-links'>
  <a href="http://apprentice.craic.com/tutorials/19">View the Tutorial</a>
  &nbsp; &nbsp;
  <a href='#' onClick='window.location="view-source:" + window.location.href'>View the Source for this Page</a>
  &nbsp; &nbsp;
  <a href="https://gist.github.com/webapprentice/7459169">View the Code on Github</a>
</div>

<div class='main'>
<!-- Start of tutorial code ----------------------------------------------------------  -->

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDPlbegz3bhu9AnJDCLWsOZM8jF3Hpp8tI&sensor=false"></script>

<script>

  var map;
 $(document).ready(function() {

  var mapOptions = {
    zoom: 16,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  map = new google.maps.Map(document.getElementById('map_canvas'),
      mapOptions);

  // Try HTML5 geolocation
  if(navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {

      var str =  'Latitude '  + position.coords.latitude.toString() +
                ' Longitude ' + position.coords.longitude.toString();

      $('#coordinates').html(str);

      var pos = new google.maps.LatLng(position.coords.latitude,
                                       position.coords.longitude);

      var infowindow = new google.maps.InfoWindow({
        map: map,
        position: pos,
        content: 'You are here'
      });

      map.setCenter(pos);

      }, function() {
        $('#coordinates').html('Error: The Geolocation service failed.');
      }
    );

  } else {
    $('#coordinates').html('Error: Your browser doesn\'t support geolocation.');
  }

});

</script>

<style>
#map_canvas {
  width:  300px;
  height: 300px;
}
</style>

<div id='coordinates'></div>
<br>
<div id='map_canvas'></div>

<!-- End of tutorial code ------------------------------------------------------------  -->
</div>


<div class='footer'>
  &copy; 2013  Robert Jones, <a href="http://craic.com">Craic Computing LLC</a>  &nbsp; &nbsp;
  <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/us/">Creative Commons License</a>
</div>

</body>
</html>
